focus_tree = {
	id = fre_french_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 1
			tag = FRA
			
		}
	}
	
	default = no
	
	focus = {
		id = FRA_free_france

		available = {
			has_capitulated = yes 
		}

		icon = GFX_focus_renounce_the_treaty_of_trianon
		x = 10
		y = 0
		cost = 2

		available_if_capitulated = yes

		completion_reward = {
			set_capital = 772

			add_popularity = { ideology = democratic popularity = 0.75 }
			add_war_support = 0.25			
            add_offsite_building = { 
			    type = dockyard 
				level = 1
			}			
			add_tech_bonus = {
				name = FRA_appoint_new_supreme_commander
				bonus = 3.0
				uses = 3
				category = land_doctrine
			}
			add_equipment_to_stockpile = {
				type = convoy
				amount = 150
			}
			every_state = {
				limit = {
					is_core_of = SEN
				}
				add_compliance = 100
			}
			add_legitimacy = 50
			transfer_state = 713
			hidden_effect  {
			news_event = { id = news.342 hours = 12 } 
			create_corps_commander = {
				name = "Charles De Gaulle"
				picture = "Portrait_France_Charles_De_Gaulle.dds"
				traits = { skilled_staffer trickster panzer_leader }
				skill = 4
				attack_skill = 4
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 4
			}
			create_field_marshal = {
				name = "Philippe Leclerc"
				picture = "portrait_france_philippe_leclerc.dds"
				traits = { logistics_wizard }
				skill = 4
				attack_skill = 4
				defense_skill = 3
				planning_skill = 3
				logistics_skill = 4
			}
			create_corps_commander = {
				name = "Marie-Pierre Koenig"
				picture = "Portrait_France_Marie_Pierre_Koenig.dds"
				traits = { skilled_staffer naval_invader infantry_leader }
				skill = 4
				attack_skill = 4
				defense_skill = 3
				planning_skill = 4
				logistics_skill = 3
			}
            create_corps_commander = {
	        	name = "Jean de Lattre de Tassigny"
	        	picture = "Portrait_France_Jean_de_Lattre_de_Tassigny.dds"
	        	traits = { skilled_staffer trait_mountaineer infantry_leader  }
	        	skill = 4
	        	attack_skill = 3
	       		defense_skill = 4
	        	planning_skill = 3
	        	logistics_skill = 3
            }
			create_field_marshal = {
				name = "Maurice Gamelin"
				picture = "Portrait_France_Maurice_Gamelin.dds"
				traits = { inflexible_strategist }
				skill = 4
				attack_skill = 3
				defense_skill = 4
				planning_skill = 4
				logistics_skill = 3
			}
			}			
		}
	}

	focus = {
		id = FRA_develop
		icon = GFX_goal_generic_intelligence_exchange
		x = 2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_free_france
		}
		relative_position_id = FRA_free_france
		
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			HOL = {
				768 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				769 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2	
						instant_build = yes
					}
				}	
				768 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				769 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}				
			}
		}
	}

	focus = {
		id = FRA_continue_the_fight
		icon = GFX_goal_generic_major_war
		x = 4
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_free_france
		}
		relative_position_id = FRA_free_france
		
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_offsite_building = {
				type = arms_factory
				level = 2
			}
		    add_offsite_building = {
		    	type = dockyard
		    	level = 2
		    }
		}
	}

	focus = {
		id = FRA_the_free_french_navy
		icon = GFX_goal_generic_build_navy
		x = -2
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_continue_the_fight
		}
		relative_position_id = FRA_continue_the_fight
		
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
			
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		completion_reward = {
			add_equipment_to_stockpile = {
				type = convoy
				amount = 250
			}		
		}
	}

	focus = {
		id = FRA_colonial_recruitment
		icon = GFX_goal_generic_allies_build_infantry
		x = 0
		y = 1
		offset = {
			x = 0
			y = 0
		}
		prerequisite = { 
			focus = FRA_continue_the_fight
		}
		relative_position_id = FRA_continue_the_fight
		
		cost = 5
		ai_will_do = {
			factor = 1
		}
		available = {
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = { FRA_colonial_recruitment }
		}
	}


	focus = {
		id = FRA_expand_the_colonial_army
		icon = GFX_goal_generic_allies_build_infantry
		x = 3
		y = 1
		prerequisite = { focus = FRA_obtain_foreign_colonial_investments }
		relative_position_id = FRA_obtain_foreign_colonial_investments
		cost = 7.16

		available_if_capitulated = yes

		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 774
						state = 660
						state = 773
						state = 772
						state = 539
						state = 543
						state = 310
						state = 694
						state = 695
					}
				}
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.25
					}
				}
			} 
		}
	}

	focus = {
		id = FRA_the_foreign_legion 
		icon = GFX_focus_generic_military_mission
		x = 0
		y = 1
		prerequisite = { focus = FRA_expand_the_colonial_army }
		relative_position_id = FRA_expand_the_colonial_army

		available = {
		}

		cost = 5
		available_if_capitulated = yes
		completion_reward = {
		    add_ideas = FRA_the_foreign_legion
		}
	}

	focus = {
		id = FRA_resistance_in_the_metropolitan
		icon = GFX_goal_generic_national_unity
		x = 0
		y = 1
		prerequisite = { focus = FRA_free_france }
		relative_position_id = FRA_free_france

		available = {
		}
		available_if_capitulated = yes
		cost = 5

		completion_reward = {
			show_ideas_tooltip = FRA_Jean_Moulin
		}
	}

	focus = {
		id = FRA_national_council_of_resistance
		icon = GFX_focus_generic_military_academy
		x = 0
		y = 1
		prerequisite = { focus = FRA_resistance_in_the_metropolitan }
		relative_position_id = FRA_resistance_in_the_metropolitan

		available = {
		}
		available_if_capitulated = yes
		cost = 5

		completion_reward = {
			add_ideas = FRA_national_council_of_the_resistance
			hidden_effect = {
				sound_effect = fra_partisans
				}
		}
	}

	focus = {
		id = FRA_the_casablanca_conference

		available = {
		}
		bypass = {
		}
		prerequisite = { focus = FRA_national_council_of_resistance }
		icon = GFX_goal_generic_amphibious_assault
		x = 0
		y = 1
		relative_position_id = FRA_national_council_of_resistance
		cost = 7.16

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = HOL_liberation
			add_tech_bonus = {
				name = FRA_prepare_for_our_return
				bonus = 2.0
				uses = 2
				category = marine_tech
			}
		}
	}

	focus = {
		id = FRA_liberation
		available = {
			OR = {
				FRA = { has_full_control_of_state = 16 }
				any_other_country = {
					is_in_faction_with = FRA
					has_full_control_of_state = 16
				}
			}
			OR = {
				FRA = { has_full_control_of_state = 15 }
				any_other_country = {
					is_in_faction_with = FRA
					has_full_control_of_state = 15
				}
			}
			EFR = { has_capitulated = yes }
		}
		prerequisite = { focus = FRA_the_casablanca_conference }
		icon = GFX_focus_hol_liberation
		x = 0
		y = 1
		relative_position_id = FRA_the_casablanca_conference
		cost = 7.16

		available_if_capitulated = yes

		completion_reward = {
			set_capital = 16
			add_stability = 0.1

			add_manpower = 150000
			transfer_state = 16
			add_equipment_to_stockpile = {
			    type = infantry_equipment
			    amount = 20000
			    producer = FRA
			}
			add_equipment_to_stockpile = {
			    type = support_equipment
			    amount = 4000
			    producer = FRA
			}
			hidden_effect = { news_event = { id = news.343 hours = 12 } }			
		}
	}
}