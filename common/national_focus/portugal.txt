### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = portuguese_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 5
			tag = POR
			has_dlc = "La Resistance"
		}
	}
	
	default = no

	continuous_focus_position = { x = 50 y = 1500 }

	focus = {
		id = POR_colonial_assimilation_policy
		available = {
		}

		bypass = {
		}

		icon = GFX_focus_generic_military_academy
		x = 0
		y = 0

		cost = 5
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = POR_colonial_assimilation_policy
		}
	}
	
	focus = {
		id = POR_colonial_army
		available = {
		}

		bypass = {		
		}
		prerequisite = { focus = POR_colonial_assimilation_policy }

		icon = GFX_focus_generic_little_entente
		x = 0
		y = 1

		relative_position_id = POR_colonial_assimilation_policy
		cost = 5
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = POR_colonial_army
		}
	}

	focus = {
		id = POR_luso_tropicalism
		available = {
			NOT = { has_government = fascism }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				add = 1
				OR = {
					has_government = neutrality
					has_government = fascism
					has_government = communism
				}
			}
		}

		bypass = {		
		}
		
		prerequisite = { focus = POR_colonial_army }
			
		icon = GFX_focus_por_luso_tropicalism
        relative_position_id = POR_colonial_assimilation_policy
		x = 0
		y = 2
		
		cost = 5
		search_filters = {FOCUS_FILTER_ANNEXATION}
		completion_reward = {
			unlock_decision_tooltip = POR_mozambique_overseas_territory
			unlock_decision_tooltip = POR_angola_overseas_province
		}
	}

	focus = {
		id = POR_infrastructure_in_angola
		available = {
		}

		bypass = {		
		}
		prerequisite = { focus = POR_colonial_assimilation_policy }	
			
		icon = GFX_focus_generic_africa_infrastructure
		x = 2
		y = 0

		relative_position_id = POR_luso_tropicalism
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 

			796 = {		
				add_building_construction = {
					type = naval_base
					level = 3
					province = 2115
					instant_build = yes
				}	

				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}					
				add_extra_state_shared_building_slots = 1	
			}

			540 = {		

				add_building_construction = {
					type = naval_base
					level = 3
					province = 8248
					instant_build = yes
				}	

				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}	
				add_resource = {
					type = steel
					amount = 20
				}		
				add_resource = {
					type = aluminium
					amount = 20
				}		
				add_extra_state_shared_building_slots = 1					
			}				
		}
	}

	focus = {
		id = POR_develop_north_angola
		available = {					
		}

		bypass = {		
		}
		prerequisite = { focus = POR_infrastructure_in_angola } 	
			
		icon = GFX_focus_generic_africa_factory
		x = 0
		y = 1

		relative_position_id = POR_infrastructure_in_angola
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			796 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					province = 2115
					instant_build = yes
				}	
			}
		}
	}

	focus = {
		id = POR_develop_south_angola
		available = {
		}

		bypass = {		
		}
		prerequisite = { focus = POR_develop_north_angola }	
			
		icon = GFX_focus_generic_africa_production
		x = 0
		y = 1

		relative_position_id = POR_develop_north_angola
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			540 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}

				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = naval_base
					level = 2
					province = 8248
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = POR_portuguese_oil
		available = {
		}

		bypass = {		
		}
		prerequisite = { focus = POR_develop_south_angola }
				
		icon = GFX_goal_generic_oil_refinery
		x = -1
		y = 1

		relative_position_id = POR_develop_south_angola
		cost = 5
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			796 = {
				add_resource = {
					type = oil
					amount = 10
				}
				add_resource = {
					type = rubber
					amount = 10
				}
			}
		}
	}

	focus = {
		id = POR_develop_mozambique
		available = {
		}

		bypass = {		
		}
		prerequisite = { focus = POR_develop_south_angola }
				
		icon = GFX_focus_generic_africa_naval
		x = 1
		y = 1

		relative_position_id = POR_develop_south_angola
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			544 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 4
					instant_build = yes
				}

				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}

				add_building_construction = {
					type = naval_base
					level = 5
					province = 2123				
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 5
					province = 8245				
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 20
				}		
				add_resource = {
					type = aluminium
					amount = 20
				}
			}
		}
	}

	focus = {
		id = POR_continue_the_public_works
		available = {
		}

		bypass = {		
		}
			
		icon = GFX_focus_generic_industry_2
		x = 10
		y = 0

		relative_position_id = POR_colonial_assimilation_policy
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {			
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}	
			
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 795 }
				795 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}	
				}
			}

			if = {
				limit = { has_full_control_of_state = 179 }
				179 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}				
				}
			}

			add_ideas = POR_improved_production
		}
	}

	focus = {
		id = POR_instituto_superior_tecnico
		available = {			
		}

		bypass = {
		}
		prerequisite = { focus = POR_continue_the_public_works }	
		icon = GFX_focus_research
		x = 0
		y = 1

		relative_position_id = POR_continue_the_public_works
		cost = 7.16
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_research_slot = 1
		}
	}

	focus = {
		id = POR_ogme
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_instituto_superior_tecnico }	
		icon = GFX_goal_generic_build_airforce
		x = -1
		y = 1

		relative_position_id = POR_instituto_superior_tecnico
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_military_vehicles
			    bonus = 1.0
			    uses = 1
			    category = motorized_equipment
			}
			if = {
				limit = { has_full_control_of_state = 544 }
				544 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = POR_ogma
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_instituto_superior_tecnico }	
		icon = GFX_goal_generic_air_production
		x = 1
		y = 1

		relative_position_id = POR_instituto_superior_tecnico
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 544 }
				544 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = POR_roads_bridges_and_dams
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_instituto_superior_tecnico }	
		icon = GFX_goal_generic_construct_infrastructure
		x = 3
		y = 0

		relative_position_id = POR_infrastructure_in_angola
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 795 }
				795 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}	
				}
			}

			if = {
				limit = { has_full_control_of_state = 179 }
				179 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}	
			}

			if = {
				limit = { has_full_control_of_state = 180 }
				180 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 5
						province = 9817					
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}			
				}
			}
		}
	}
	
	focus = {
		id = POR_hydroelectricity
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_roads_bridges_and_dams }	
		icon = GFX_goal_generic_construction
		x = 0
		y = 1

		relative_position_id = POR_roads_bridges_and_dams
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
			add_ideas = POR_hydroelectric_power
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1	
				}
			}
			if = {
				limit = { has_full_control_of_state = 181 }
				181 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1	
				}
			}
			if = {
				limit = { has_full_control_of_state = 179 }
				179 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1	
					add_building_construction = {
						type = naval_base
						level = 5
						province = 3790					
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}			
					add_extra_state_shared_building_slots = 1	
				}
			}
		}
	}

	focus = {
		id = POR_extraction_industries
		available = {
			date > 1939.5.1				
		}

		bypass = {		
		}
		prerequisite = { focus = POR_hydroelectricity }	
		icon = GFX_goal_generic_construction2
		x = 0
		y = 1

		relative_position_id = POR_hydroelectricity
		cost = 5
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
			if = {
				limit = { has_full_control_of_state = 112 }	
				unlock_decision_tooltip = POR_develop_lisbon_tungsten_deposits
			}
			if = {
				limit = { has_full_control_of_state = 795 }
				unlock_decision_tooltip = POR_develop_santarem_chromium_deposits
			}			
		}
	}
	
	focus = {
		id = POR_resource
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_extraction_industries }	
		icon = GFX_por_rubber
		x = 0
		y = 1

		relative_position_id = POR_extraction_industries
		cost = 5
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
			swap_ideas = {
				remove_idea = POR_fuel
				add_idea = POR_fuel2	
			}	
			modify_building_resources = {
        	   building = synthetic_rubber_refinery
        	   resource = rubber
        	   amount = 1
        	}			
		}
	}

	focus = {
		id = POR_military_vehicles
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_ogme }	

		icon = GFX_goal_generic_army_motorized
		x = 0
		y = 1

		relative_position_id = POR_ogme
		cost = 7.16
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = { 			
			if = {
				limit = { has_full_control_of_state = 796 }
				796 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}	
		}
	}

	focus = {
		id = POR_portuguese_artillery
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_ogme }	

		icon = GFX_goal_generic_army_artillery
		x = -2
		y = 1

		relative_position_id = POR_ogme
		cost = 7.16
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_portuguese_artillery
			    bonus = 1.0
			    uses = 1
			    category = artillery
			}

			if = {
				limit = { has_full_control_of_state = 540 }
				540 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}			
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = POR_advanced_artillery
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_portuguese_artillery}
		icon = GFX_goal_generic_army_artillery2
		x = 0
		y = 2

		relative_position_id = POR_portuguese_artillery
		cost = 7.16
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_advanced_artillery
			    bonus = 1.0
			    uses = 2
			    category = artillery
			}
		}
	}

	focus = {
		id = POR_armor_focus
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_military_vehicles }
		icon = GFX_goal_generic_army_tanks
		x = 0
		y = 2

		relative_position_id = POR_military_vehicles
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_armor_focus
			    bonus = 1.0
			    uses = 1
			    category = armor
			}
		}
	}

	focus = {
		id = POR_mechanized_focus
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_armor_focus}	
		icon = GFX_goal_generic_build_tank
		x = 0
		y = 1

		relative_position_id = POR_armor_focus
		cost = 7.16
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_mechanized_focus
			    bonus = 1.0
			    uses = 1
			    category = cat_mechanized_equipment
			}
		}
	}

	focus = {
		id = POR_light_aircraft_focus
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_ogma}	
		icon = GFX_goal_generic_air_fighter2
		x = 0
		y = 1

		relative_position_id = POR_ogma
		cost = 7.16
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
		    add_ideas = POR_advanced_light_aircraft
			if = {
				limit = { has_full_control_of_state = 796 }
				796 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = POR_advanced_light_aircraft
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_light_aircraft_focus}
		icon = GFX_goal_generic_air_bomber
		x = 0
		y = 2

		relative_position_id = POR_light_aircraft_focus
		cost = 7.16
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_light_aircraft_focus
			    bonus = 1.0
			    uses = 1
			    category = naval_air
			}
		}
	}

	focus = {
		id = POR_jet_research
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_advanced_light_aircraft}	
		icon = GFX_goal_generic_air_fighter
		x = 0
		y = 1

		relative_position_id = POR_advanced_light_aircraft
		cost = 7.16
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_jet_research
			    bonus = 1.0
			    uses = 1
			    category = jet_technology
			}
		}
	}

	focus = {
		id = POR_industrial_modernization
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_instituto_superior_tecnico }
		icon = GFX_goal_generic_construct_civ_factory
		x = 3
		y = 1

		relative_position_id = POR_instituto_superior_tecnico
		cost = 7.16
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_industrial_modernization
				bonus = 1.5
				uses = 1
				technology = construction3
			}		
		}
	}

	focus = {
		id = POR_a_new_industry
		available = { 		
		}

		bypass = {		
		}
		prerequisite = { focus = POR_industrial_modernization }
		icon = GFX_focus_generic_industry_3
		x = 0
		y = 1

		relative_position_id = POR_industrial_modernization
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
		   add_ideas = POR_a_new_industry	
		   if = {
				limit = { has_full_control_of_state = 796 }
			    796 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}				
				}
			}
			if = {
				limit = { has_full_control_of_state = 796 }
				796 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = POR_food_industries
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_continue_the_public_works }	
		icon = GFX_goal_generic_consumer_goods
		x = 5
		y = 2

		relative_position_id = POR_continue_the_public_works
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 544 }
				544 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 544 }
				544 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}	
		}
	}

	focus = {
		id = POR_textile_industry
		available = {
			OR = {
				has_full_control_of_state = 179
				has_full_control_of_state = 112
			}			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_food_industries }			
		icon = GFX_goal_generic_trade
		x = 0
		y = 1

		relative_position_id = POR_food_industries
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
			if = {
				limit = { has_full_control_of_state = 540 }	
				540 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 540 }
				540 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex		
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = POR_second_navy_reequipment
		available = {			
		}

		bypass = {		
		}
		prerequisite = {		
		}			
		icon = GFX_goal_generic_build_navy
		x = 9
		y = 0

		relative_position_id = POR_continue_the_public_works
		cost = 5
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			navy_experience = 100
			if = {
				limit = { has_full_control_of_state = 544 }
				544 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard		
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = POR_a_powerful_merchant_marine
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_second_navy_reequipment }			
		icon = GFX_goal_generic_navy_battleship
		x = 0
		y = 1

		relative_position_id = POR_second_navy_reequipment
		cost = 5
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			if = {
				limit = { has_full_control_of_state = 540 }
				540 = { #Porto
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard		
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			add_tech_bonus = {
				name = POR_a_powerful_merchant_marine
			    bonus = 1.0
			    uses = 1
			    category = dd_tech			   
			}
			add_ideas = POR_convoy_build_efficiency
		}
	}

	focus = {
		id = POR_merchant_marine_protection
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_a_powerful_merchant_marine }			
		icon = GFX_goal_generic_amphibious_assault
		x = 0
		y = 1

		relative_position_id = POR_a_powerful_merchant_marine
		cost = 5
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_merchant_marine_protection
			    bonus = 1.0
			    uses = 2
			    category = dd_tech			   
			}

			if = {
		    	limit = {
		    		has_dlc = "Man the Guns"		    		
		    	}
		    	add_tech_bonus = {
		    		name = POR_merchant_marine_protection
				    bonus = 1.0
				    uses = 2
				    category = asw_tech		   
				}
		    }						
		}
	}
	
	focus = {
		id = POR_fuzileiros
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_second_navy_reequipment }
		icon = GFX_goal_generic_occupy_states_coastal
		x = -2
		y = 2
		relative_position_id = POR_second_navy_reequipment
		cost = 5
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 
			add_tech_bonus = {
				name = POR_fuzileiros
			    bonus = 1.0
			    uses = 2
			    category = marine_tech			   
			}

			add_tech_bonus = {
				name = POR_fuzileiros
			    bonus = 1.0
			    uses = 2
			    category = tp_tech			   
			}
			# AI will build the required docks for the next focus
			add_ai_strategy = {
				type = building_target
				id = dockyard
				value = 15
			}
		}
	}

	focus = {
		id = POR_submarine_effort
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_fuzileiros}
		prerequisite = { focus = POR_merchant_marine_protection }		
		icon = GFX_goal_generic_navy_submarine
		x = 0
		y = 3

		relative_position_id = POR_fuzileiros
		cost = 5
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_submarine_effort
			    bonus = 1.0
			    uses = 2
			    category = ss_tech			   
			}
		}
	}

	focus = {
		id = POR_air_naval_research
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_submarine_effort focus = POR_advanced_light_aircraft }		
		icon = GFX_goal_generic_air_naval_bomber
		x = 0
		y = 1

		relative_position_id = POR_submarine_effort 
		cost = 5
		completion_reward = { 	
			add_tech_bonus = {
				name = POL_naval_bomber_experiments
				bonus = 1
				uses = 1
				category = naval_air
			}
		}
	}

	focus = {
		id = POR_arsenal_do_alfeite
		available = {
		}

		bypass = {		
		}
		prerequisite = { focus = POR_second_navy_reequipment }			
		icon = GFX_goal_generic_navy_cruiser
		x = 2		
		y = 1

		relative_position_id = POR_second_navy_reequipment
		cost = 5
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
		    add_ideas = POR_endless_sea
			add_tech_bonus = {
				name = POR_arsenal_do_alfeite
			    bonus = 1.0
			    uses = 1
			    category = ca_tech	   
			}
			add_tech_bonus = {
				name = POR_arsenal_do_alfeite
			    bonus = 1.0
			    uses = 1
			    category = cl_tech	   
			}

			796 = { #Lisbon
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard		
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = POR_national_cruiser_production
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_arsenal_do_alfeite }			
		icon = GFX_goal_generic_construct_naval_dockyard
		x = 0		
		y = 1

		relative_position_id = POR_arsenal_do_alfeite
		cost = 5
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_national_cruiser_production
			    bonus = 1.0
			    uses = 1
			    category = ca_tech	   
			}
			add_tech_bonus = {
				name = POR_national_cruiser_production
			    bonus = 1.0
			    uses = 1
			    category = cl_tech	   
			}
		}
	}

	focus = {
		id = POR_battleship_effort
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_national_cruiser_production }			
		icon = GFX_focus_generic_navy_battleship2
		x = -1		
		y = 1

		relative_position_id = POR_national_cruiser_production
		cost = 5
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = POR_battleship_effort
			    bonus = 1.0
			    uses = 2
			    category = bb_tech	   
			}
		}
	}

	focus = {
		id = POR_carrier_effort
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_national_cruiser_production }			
		icon = GFX_goal_generic_navy_carrier
		x = 1		
		y = 1

		relative_position_id = POR_national_cruiser_production
		cost = 5
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_carrier_effort
			    bonus = 1.0
			    uses = 2
			    category = cv_tech	   
			}
			add_tech_bonus = {
				name = NZL_defend_our_islands
				bonus = 1
				uses = 2
				category = naval_air
			}
		}
	}

	focus = {
		id = POR_atlantic_defense_strategy
		available = {		
		}

		bypass = {		
		}
		prerequisite = { focus = POR_national_cruiser_production }			
		icon = GFX_focus_generic_destroyer
		x = 0		
		y = 2

		relative_position_id = POR_national_cruiser_production
		cost = 5
		completion_reward = { 
			if = {
				limit = { has_full_control_of_state = 698 }
				698 = { #Azores
					add_building_construction = {
						type = coastal_bunker		
						level = 2
						province = 1751
						instant_build = yes
					}

					add_building_construction = {
						type = air_base	
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 697 }
				697 = { #Madeira
					add_building_construction = {
						type = coastal_bunker		
						level = 1
						province = 3118
						instant_build = yes
					}

					add_building_construction = {
						type = air_base	
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = { has_full_control_of_state = 702 }
				702 = { #Cape Verde
					add_building_construction = {
						type = coastal_bunker		
						level = 1
						province = 13014
						instant_build = yes
					}

					add_building_construction = {
						type = air_base	
						level = 1
						instant_build = yes
					}
				}
			}			
		}
	}

	focus = {
		id = POR_endless_sea
		available = {
		}

		bypass = {
		}
		prerequisite = { focus = POR_atlantic_defense_strategy }
		icon = GFX_focus_generic_coastal_fort
		x = 0
		y = 1

		relative_position_id = POR_atlantic_defense_strategy
		cost = 5
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
 			if = {
				limit = { has_full_control_of_state = 321 }
	 			321 = { #Goa
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 1273
						instant_build = yes
					}

					add_building_construction = {
						type = bunker
						level = 1
						province = 1273
						instant_build = yes
					}

					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 729 }
				729 = { #Macau
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 4189
						instant_build = yes
					}

					add_building_construction = {
						type = bunker
						level = 1
						province = 4189
						instant_build = yes
					}

					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 721 }
				721 = { #Portuguese Timor
					add_building_construction = {
						type = coastal_bunker
						level = 1
						province = 12190
						instant_build = yes
					}

					add_building_construction = {
						type = bunker
						level = 1
						province = 12190
						instant_build = yes
					}

					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = POR_army_reorganization
		available = {
		    OR = {
                has_army_experience > 200
				is_ai = yes
            }				
		}

		bypass = {		
		}
		prerequisite = {
		}
		icon = GFX_focus_generic_combined_arms
		x = 7	
		y = 0

		relative_position_id = POR_second_navy_reequipment
		cost = 5
		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT}
		completion_reward = { 	
			remove_ideas = POR_unreliable_army
			army_experience	= -200
			add_stability = -0.05
		}
	}

	focus = {
		id = POR_metropolitan_army
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_army_reorganization }
		icon = GFX_focus_eng_move_to_secure_the_dominions
		x = -1		
		y = 1

		relative_position_id = POR_army_reorganization
		cost = 7.16
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_tech_bonus = {
				name = POR_metropolitan_army
			    bonus = 1.0
			    uses = 2
			    category = infantry_weapons
			}
		}
	}

	focus = {
		id = POR_standardization
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_metropolitan_army }
		icon = GFX_focus_generic_rubber
		x = 0		
		y = 1

		relative_position_id = POR_metropolitan_army
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 	
			add_ideas = POR_standardization
		}
	}

	focus = {
		id = POR_defend_the_borders
		available = {		
		}

		bypass = {		
		}
		prerequisite = { focus = POR_standardization }
		icon = GFX_focus_generic_provoke_border_clashes
		x = -1		
		y = 1

		relative_position_id = POR_standardization
		cost = 5
		completion_reward = { 
		#Add coastal fort to each port
			if = {
				limit = { has_full_control_of_state = 112 }
				112 = { #Lisbon
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 1
						instant_build = yes
					}
					add_building_construction = {
					    type = bunker
					    province = {
					        all_provinces = yes
					        limit_to_border = yes
					    }
					    level = 1
					    instant_build = yes
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 180 }
				180 = { #Porto
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 1
						instant_build = yes
					}
					add_building_construction = {
					    type = bunker
					    level = 1
					    instant_build = yes
					    province = {
					        all_provinces = yes
					        limit_to_border = yes
					    }
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 179 }
				179 = { #Beja
					add_building_construction = {
						type = coastal_bunker
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
						level = 1
						instant_build = yes
					}
					add_building_construction = {
					    type = bunker
					    level = 1
					    instant_build = yes
					    province = {
					        all_provinces = yes
					        limit_to_border = yes
					    }
					}
				}
			}
		}
	}

	focus = {
		id = POR_rebuild_the_lines_of_torres_vedras
		available = {
		}

		bypass = {		
		}
		prerequisite = { focus = POR_standardization }
		icon = GFX_goal_generic_defence
		x = 1		
		y = 1

		relative_position_id = POR_standardization
		cost = 5
		completion_reward = { 
			112 = { #Lisbon
				add_building_construction = {
				    type = bunker
				    level = 3
				    instant_build = yes
				    province = {
				        all_provinces = yes
				        limit_to_border = yes
				    }
				}

				add_building_construction = {
				    type = coastal_bunker
				    level = 2
				    instant_build = yes	
				    province = 11805			    
				}
			}
		}
	}

	focus = {
		id = POR_tropas_paraquedistas
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_defend_the_borders focus = POR_rebuild_the_lines_of_torres_vedras }	

		icon = GFX_focus_generic_paratrooper
		x = 1
		y = 1

		relative_position_id = POR_defend_the_borders
		cost = 7.16

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = { 
			add_tech_bonus = {
				name = POR_tropas_paraquedistas
				bonus = 2.0
				uses = 1
				category = para_tech
			}
		}
	}

	focus = {
		id = POR_regimento_de_comandos
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_tropas_paraquedistas }	
		icon = GFX_goal_generic_special_forces
		x = 0
		y = 1

		relative_position_id = POR_tropas_paraquedistas
		cost = 7.16

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = POR_regimento_de_comandos
				bonus = 1.0
				uses = 2
				technology = paratroopers
				technology = paratroopers2
				technology = marines
				technology = marines2
				technology = tech_mountaineers
				technology = tech_mountaineers2
			}
		}
	}

	focus = {
		id = POR_staff_wargames
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_army_reorganization }
		icon = GFX_focus_generic_license_production
		x = 1	
		y = 1

		relative_position_id = POR_army_reorganization
		cost = 7.16
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			add_tech_bonus = {
				name = POR_staff_wargames
			    bonus = 1.0
			    uses = 2
			    category = land_doctrine
			}
		}
	}

	focus = {
		id = POR_field_maneuvers
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_staff_wargames }	
		icon = GFX_focus_generic_manpower
		x = 0
		y = 1

		relative_position_id = POR_staff_wargames
		cost = 7.16

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = { 
			add_tech_bonus = {
				name = POR_field_maneuvers
			    bonus = 1.0
			    uses = 1
			    category = land_doctrine
			}
		}
	}

	focus = {
		id = POR_corpo_do_estado_maior
		available = {			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_field_maneuvers }
		icon = GFX_focus_por_the_fifth_empire
		x = 1		
		y = 1

		relative_position_id = POR_field_maneuvers
		cost = 3
		completion_reward = { 	
			add_ideas = POR_corpo_do_estado_maior	
		}
	}

	focus = {
		id = POR_estado_novo
		available = {			
		}

		bypass = {		
		}
		prerequisite = {
		}
		icon = GFX_focus_por_estado_novo
		x = 6
		y = 0

		relative_position_id = POR_army_reorganization
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}
		completion_reward = { 	
			add_ideas = POR_estado_novo
			add_political_power = 120
				hidden_effect = {
					add_tech_bonus = {
						name = POR_observation_mission
					    bonus = 1.0
					    uses = 3
					    category = air_doctrine
		            }
				set_technology = { 
					basic_ship_hull_light = 1
					basic_ship_hull_submarine = 1
					basic_ship_hull_cruiser = 1
					basic_ship_hull_heavy = 1
					ship_hull_super_heavy = 1
					basic_ship_hull_carrier = 1
				}
					create_intelligence_agency = {
						name = "Portugal's Intel Network"
						icon = "GFX_intelligence_agency_logo_por"
					}
					upgrade_intelligence_agency = upgrade_economy_civilian
					upgrade_intelligence_agency = upgrade_army_department
					upgrade_intelligence_agency = upgrade_naval_department
					upgrade_intelligence_agency = upgrade_airforce_department
					upgrade_intelligence_agency = upgrade_passive_defense
					upgrade_intelligence_agency = upgrade_passive_defense
					upgrade_intelligence_agency = upgrade_passive_defense
					upgrade_intelligence_agency = upgrade_passive_defense
					upgrade_intelligence_agency = upgrade_form_department
				}
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = POR_alvaro_cunhal
			show_ideas_tooltip = POR_jose_hipolito_raposo_2
			show_ideas_tooltip = POR_augusto_de_vasconcelos_2
		}
	}

	focus = {
		id = POR_support_the_spanish_nationalists
		available = {
			country_exists = SPR
		} 
		bypass = {
		}
		prerequisite = { focus = POR_estado_novo }
		icon = GFX_goal_support_fascism
		x = 0	
		y = 1

		relative_position_id = POR_estado_novo
		cost = 2
		completion_reward = { 
            add_political_power = 120		
			SPR = {
				add_opinion_modifier = {
				    target = POR
				    modifier = POR_helped_in_civil_war
				}
			}
			hidden_effect = {
	# Submarines #
	create_equipment_variant = {
		name = "Berlin Class"				
		type = ship_hull_submarine_2
		name_group = POR_SS_HISTORICAL
		parent_version = 0
		modules = {
			fixed_ship_torpedo_slot = ship_torpedo_sub_2
			fixed_ship_engine_slot = sub_ship_engine_2
			rear_1_custom_slot = ship_torpedo_sub_2
		}
	}
	create_equipment_variant = {
		name = "Moscow Class"				
		type = ship_hull_cruiser_submarine
		name_group = POR_SS_HISTORICAL
		parent_version = 0
		modules = {
			fixed_ship_torpedo_slot = ship_torpedo_sub_2
			fixed_ship_engine_slot = sub_ship_engine_2
			front_1_custom_slot = ship_torpedo_sub_2
			mid_1_custom_slot = ship_sub_snorkel_2
			rear_1_custom_slot = ship_torpedo_sub_2
		}
	}
	# Destroyers #
	create_equipment_variant = {
		name = "London Class"				
		type = ship_hull_light_2
		name_group = POR_DD_HISTORICAL
		parent_version = 0
		modules = {
			fixed_ship_battery_slot = dp_light_battery
			fixed_ship_anti_air_slot = ship_anti_air_2
			fixed_ship_fire_control_system_slot = ship_sonar_2
			fixed_ship_radar_slot = ship_radar_2
			fixed_ship_engine_slot = light_ship_engine_2
			fixed_ship_torpedo_slot = ship_torpedo_2
			mid_1_custom_slot = dp_light_battery
			rear_1_custom_slot = ship_depth_charge_2
		}
	}
	# Light Cruisers #
	create_equipment_variant = {
		name = "Tiger Class"
		type = ship_hull_cruiser_2
		name_group = POR_CL_HISTORICAL
		parent_version = 0
		modules = {
			fixed_ship_battery_slot = ship_light_medium_battery_2
			fixed_ship_anti_air_slot = ship_anti_air_2
			fixed_ship_fire_control_system_slot = ship_fire_control_system_1
			fixed_ship_radar_slot = ship_sonar_2
			fixed_ship_engine_slot = cruiser_ship_engine_2
			fixed_ship_secondaries_slot = dp_ship_secondaries
			fixed_ship_armor_slot = ship_armor_cruiser_2
			front_1_custom_slot = ship_light_medium_battery_2
			mid_1_custom_slot = ship_light_medium_battery_2
			mid_2_custom_slot = ship_light_medium_battery_2
			rear_1_custom_slot = ship_airplane_launcher_2
		}
	}
	# Heavy Cruisers #
	create_equipment_variant = {
		name = "Sherman Class"
		type = ship_hull_cruiser_2
		name_group = POR_CA_HISTORICAL
		parent_version = 0
		modules = {
			fixed_ship_battery_slot = ship_medium_battery_2
			fixed_ship_anti_air_slot = ship_anti_air_2
			fixed_ship_fire_control_system_slot = ship_fire_control_system_1
			fixed_ship_radar_slot = ship_radar_2
			fixed_ship_engine_slot = cruiser_ship_engine_2
			fixed_ship_secondaries_slot = dp_ship_secondaries
			fixed_ship_armor_slot = ship_armor_cruiser_2
			front_1_custom_slot = ship_medium_battery_2
			mid_1_custom_slot = ship_medium_battery_2
			mid_2_custom_slot = ship_medium_battery_2
			rear_1_custom_slot = ship_airplane_launcher_2
		}
	}
	# Battlecruisers #
	create_equipment_variant = {
		name = "Kuat Class"		
		type = ship_hull_heavy_2
		name_group = POR_BC_HISTORICAL
		parent_version = 0
		modules = {
			fixed_ship_battery_slot = ship_heavy_battery_2
			fixed_ship_anti_air_slot = ship_anti_air_2
			fixed_ship_fire_control_system_slot = ship_fire_control_system_1
			fixed_ship_radar_slot = ship_radar_2
			fixed_ship_engine_slot = heavy_ship_engine_2
			fixed_ship_secondaries_slot = dp_ship_secondaries
			fixed_ship_armor_slot = ship_armor_bc_2
			front_1_custom_slot = ship_heavy_battery_2
			mid_1_custom_slot = ship_heavy_battery_2
			mid_2_custom_slot = dp_ship_secondaries
			rear_1_custom_slot = dp_ship_secondaries
		}
	}
	# Battleships #
	create_equipment_variant = {
		name = "Taris Class"
		type = ship_hull_heavy_2
		name_group = POR_BB_HISTORICAL
		parent_version = 0
		modules = {
			fixed_ship_battery_slot = ship_heavy_battery_2
			fixed_ship_anti_air_slot = ship_anti_air_2
			fixed_ship_fire_control_system_slot = ship_fire_control_system_1
			fixed_ship_radar_slot = ship_radar_2
			fixed_ship_engine_slot = heavy_ship_engine_2
			fixed_ship_secondaries_slot = dp_ship_secondaries
			fixed_ship_armor_slot = ship_armor_bb_2
			front_1_custom_slot = ship_heavy_battery_2
			mid_1_custom_slot = ship_heavy_battery_2
			mid_2_custom_slot = ship_heavy_battery_2
			rear_1_custom_slot = dp_ship_secondaries
		}
	}
	create_equipment_variant = {
		name = "Dantooine Class"
		type = ship_hull_super_heavy_1
		name_group = POR_BB_HISTORICAL
		parent_version = 0
		modules = {
			fixed_ship_battery_slot = ship_super_heavy_battery_1
			fixed_ship_anti_air_slot = ship_anti_air_2
			fixed_ship_fire_control_system_slot = ship_fire_control_system_1
			fixed_ship_radar_slot = ship_radar_2
			fixed_ship_engine_slot = heavy_ship_engine_2
			fixed_ship_secondaries_slot = dp_ship_secondaries
			fixed_ship_armor_slot = ship_armor_shbb
			front_1_custom_slot = ship_super_heavy_battery_1
			front_2_custom_slot = ship_super_heavy_battery_1
			mid_1_custom_slot = dp_ship_secondaries
			mid_2_custom_slot = dp_ship_secondaries
			mid_3_custom_slot = dp_ship_secondaries
			rear_1_custom_slot = ship_super_heavy_battery_1
			rear_2_custom_slot = ship_super_heavy_battery_1
		}
	}
	# Carriers #
	create_equipment_variant = {
		name = "Reach Class"
		type = ship_hull_carrier_1
		name_group = POR_CV_HISTORICAL
			parent_version = 0
			modules = {
			fixed_ship_deck_slot_1 = ship_deck_space
			fixed_ship_deck_slot_2 = ship_deck_space
			fixed_ship_anti_air_slot = ship_anti_air_2
			fixed_ship_radar_slot = ship_radar_2
			fixed_ship_engine_slot = carrier_ship_engine_2
			fixed_ship_secondaries_slot = dp_ship_secondaries
			front_1_custom_slot = ship_deck_space
		}
	}	
            }	
		}
	}
	
	focus = {
		id = POR_fins

		available = {
			OR = {
				FIN = { has_war_with = SOV }
				date > 1940.3.1	
			}
			is_ai = no
		}
		prerequisite = { focus = POR_support_the_spanish_nationalists }
		icon = GFX_FIN_the_white_guard
		x = -2		
		y = 1

		relative_position_id = POR_support_the_spanish_nationalists
		cost = 3
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 	
			add_political_power = 75
			army_experience = 20
			air_experience = 20
			FIN = {
			    add_manpower = 10000
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2500 producer = POR }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = radio_equipment amount = 200 producer = POR }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 200 producer = POR }
				add_equipment_to_stockpile = { type = fighter_equipment_1934 amount = 100 producer = POR }
			}
			add_manpower = -10000
		}
	}
	
	focus = {
		id = POR_send_assistance

		select_effect = {
		}
		
		available = {
		    OR = {
			    SPR = { has_civil_war = yes }
			    date > 1939.1.1
			}
			is_ai = no
		} 
		bypass = {
		}
		prerequisite = { focus = POR_support_the_spanish_nationalists }
		icon = GFX_GER_lessons_of_the_civil_war
		x = 2	
		y = 1

		relative_position_id = POR_support_the_spanish_nationalists
		cost = 3
		completion_reward = { 	
			add_political_power = 75
			army_experience = 20
			air_experience = 20
			SPR = {
			    add_manpower = 25000
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2500 producer = POR }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = radio_equipment amount = 200 producer = POR }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 200 producer = POR }
				add_equipment_to_stockpile = { type = fighter_equipment_1934 amount = 100 producer = POR }
			}
			add_manpower = -25000
		}
	}

	focus = {
		id = POR_portuguese_legion
		prerequisite = { focus = POR_support_the_spanish_nationalists }
		icon = GFX_focus_por_portuguese_legion
		x = 0		
		y = 1

		relative_position_id = POR_support_the_spanish_nationalists
		cost = 3
		search_filters = {FOCUS_FILTER_MANPOWER}
		completion_reward = {
			add_ideas = por_portuguese_legion
				hidden_effect = {
				    load_oob = POR_naval_oob
				}
		}
	}
	
	focus = {
		id = POR_fran
		available = {
			OR = {
				country_exists = EFR
				date > 1940.6.1	
			}
			is_ai = no
		}

		bypass = {		
		}
		prerequisite = { focus = POR_portuguese_legion }

		icon = GFX_focus_fra_french_union
		x = -2
		y = 1

		relative_position_id = POR_portuguese_legion
		cost = 3
		completion_reward = { 
			add_political_power = 75
			army_experience = 20
			air_experience = 20
			FRA = {
			    add_manpower = 15000
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2500 producer = POR }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = radio_equipment amount = 175 producer = POR }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 175 producer = POR }
				add_equipment_to_stockpile = { type = convoy amount = 100 producer = POR }
			}
			add_manpower = -15000
		}
	}
	
	focus = {
		id = POR_send_assist

		select_effect = {
		}

		available = {
			OR = {
				JAP = { has_war_with = CHI }
				date > 1940.1.1	
			}
			is_ai = no
		}

		bypass = {
		}
		prerequisite = { focus = POR_portuguese_legion }
		icon = GFX_focus_jap_pacific_guardian
		x = 2	
		y = 1

		relative_position_id = POR_portuguese_legion
		cost = 3
		completion_reward = { 	
			hidden_effect = {
				set_technology = { 
				    improved_infantry_weapons = 1
				    light_tank_1938 = 1 
					medium_tank_1939 = 1
					fighter_1938 = 1
					naval_bomber_1938 = 1
					heavy_fighter_1938 = 1
		            tactical_bomber_1939 = 1
					strategic_bomber_1939 = 1
	                CAS_1939 = 1
			    }
			}
			add_political_power = 225
			army_experience = 20
			air_experience = 20
			JAP = {
			    add_offsite_building = { type = arms_factory level = 2 }
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 5000 producer = POR }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 500 producer = POR }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 500 producer = POR }
				add_equipment_to_stockpile = { type = radio_equipment amount = 350 producer = POR }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 350 producer = POR }
				add_equipment_to_stockpile = { type = fighter_equipment_1936 amount = 100 producer = POR }
				add_equipment_to_stockpile = { type = tac_bomber_equipment_1937 amount = 100 producer = POR }
			}
			MAN = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2500 producer = POR }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = radio_equipment amount = 175 producer = POR }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 175 producer = POR }
				add_equipment_to_stockpile = { type = light_tank_equipment_1936 amount = 250 producer = POR }
			}
			SIA = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2500 producer = POR }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = radio_equipment amount = 175 producer = POR }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 175 producer = POR }
				add_equipment_to_stockpile = { type = light_tank_equipment_1936 amount = 250 producer = POR }
			}
		}
	}

	focus = {
		id = POR_strengthen_the_regime
		available = {
		}

		bypass = {	
		}
		prerequisite = { focus = POR_portuguese_legion }

		icon = GFX_goal_generic_political_pressure
		x = 0
		y = 1

		relative_position_id = POR_portuguese_legion
		cost = 7.16
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
		    add_political_power = 70
			add_popularity = {
			    ideology = neutrality
			    popularity = 0.15
			}
			add_stability = -0.1
			swap_ideas = {
				remove_idea = POR_estado_novo
				add_idea = POR_estado_novo_2	
			}
		}
	}

	focus = {
		id = POR_appease_monarchists
		available = {	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_strengthen_the_regime }	
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		x = -1
		y = 1

		relative_position_id = POR_strengthen_the_regime
		cost = 7.16
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}
		completion_reward = { 		
			swap_ideas = {
				remove_idea = POR_estado_novo_2
				add_idea = POR_estado_novo_3	
			}
		}
	}
	
	focus = {
		id = POR_national_gold_reserves
		available = {
			has_war = no
		}

		bypass = {		
		}
		prerequisite = { focus = POR_strengthen_the_regime }	
		icon = GFX_focus_usa_reestablish_the_gold_standard
		x = 1
		y = 1

		relative_position_id = POR_strengthen_the_regime
		cost = 7.16
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			add_ideas = POR_national_gold_reserves
			ENG = {
				add_opinion_modifier = {
					target = POR
					modifier = POR_portuguese_trade
				}
			}
			GER = {
				add_opinion_modifier = {
					target = POR
					modifier = POR_portuguese_trade
				}
			}
			every_other_country = {
				limit = {
					NOT = { tag = GER }
					NOT = { tag = ENG }
					OR = {
						is_in_faction_with = ENG
						is_in_faction_with = GER
					}
				}
				add_opinion_modifier = {
					target = POR
					modifier = POR_portuguese_trade_minor
				}
			}
		}
	}
	focus = {
		id = POR_concordat_with_the_holy_see
		available = {
		}

		bypass = {		
		}
	    prerequisite = { focus = POR_appease_monarchists }
		prerequisite = { focus = POR_national_gold_reserves }	
		icon = GFX_focus_por_concordat
		x = -1
		y = 1

		relative_position_id = POR_national_gold_reserves
		cost = 7.16
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		completion_reward = { 
			swap_ideas = {
				remove_idea = POR_estado_novo_3
				add_idea = POR_estado_novo_4	
			}
			if = {
				limit = {
					has_idea = POR_man1
				}
			    swap_ideas = {
			    	remove_idea = POR_man1
			    	add_idea = POR_man2
			    }
			}
		}
	}
	
	focus = {
		id = POR_restoration_of_the_monarch
		available = {	
		    is_ai = no	
		}

		bypass = {		
		}
		prerequisite = { focus = POR_concordat_with_the_holy_see }
		icon = GFX_focus_por_the_kingdom_reunited
		x = 0		
		y = 1

		relative_position_id = POR_concordat_with_the_holy_see
		cost = 7.16
		completion_reward = {
			add_stability = -0.1
			set_country_flag = KOP_kingdom_of_portugal_flag
			set_cosmetic_tag = KOP_kingdom_portugal
			add_ideas = POR_the_portuguese_empire
		}
	}
	
	focus = {
		id = POR_proudly_alone
		available = {	
			date > 1939.1.1		
		}

		bypass = {		
		}
		
		prerequisite = { focus = POR_restoration_of_the_monarch }

		icon = GFX_focus_por_salazar
		x = 0
		y = 1

		relative_position_id = POR_restoration_of_the_monarch
		cost = 7.16
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY}
		completion_reward = { 
			hidden_effect = {
				set_technology = { 
				    light_tank_1940 = 1 
					fighter_1940 = 1
					naval_bomber_1940 = 1
					heavy_fighter_1940 = 1
			    }
			}
			remove_ideas = POR_unstable_republic
			swap_ideas = {
				remove_idea = POR_estado_novo_4
				add_idea = POR_estado_novo_5	
			}
			if = {
				limit = {
					has_idea = POR_eco1  
				}
			    swap_ideas = {
			    	remove_idea = POR_eco1
			    	add_idea = POR_eco2
			    }
			}
		}
	}
	
	focus = {
		id = POR_revan1
		available = {	
            date > 1939.8.1		
            is_ai = no			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_proudly_alone }
		icon = GFX_focus_mex_privatisation
		x = 0
		y = 1
		
		relative_position_id = POR_proudly_alone

		cost = 5
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			hidden_effect = {
				set_technology = { 
					medium_tank_1941 = 1
					heavy_tank_1941 = 1
		            tactical_bomber_1941 = 1
					strategic_bomber_1941 = 1
	                CAS_1941 = 1
			    }
			}
			add_ideas = POR_the_capital_of_espionage
			if = {
				limit = {
					has_idea = POR_man2  
				}
			    swap_ideas = {
			    	remove_idea = POR_man2
			    	add_idea = POR_man3
			    }
			}
		}
	}
	focus = {
		id = POR_engs

		select_effect = {
		}

		available = {
			OR = {
				ENG = { has_war_with = ITA }
				date > 1940.6.1	
			}
			is_ai = no
		}

		bypass = {
		}
		prerequisite = { focus = POR_revan1 }
		icon = GFX_focus_eng_motion_of_no_confidence
		x = -2	
		y = 1

		relative_position_id = POR_revan1
		cost = 5
		completion_reward = { 	
			add_political_power = 75
			army_experience = 20
			air_experience = 20
			custom_effect_tooltip = POR_engs_tt
			ENG = {
			    add_offsite_building = { type = arms_factory level = 2 }
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 5000 producer = POR }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 500 producer = POR }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 500 producer = POR }
				add_equipment_to_stockpile = { type = radio_equipment amount = 350 producer = POR }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 350 producer = POR }
				add_equipment_to_stockpile = { type = fighter_equipment_1940 amount = 100 producer = POR }
				add_equipment_to_stockpile = { type = tac_bomber_equipment_1939 amount = 100 producer = POR }
			}
		}
	}
	focus = {
		id = POR_italy

		select_effect = {
		}

		available = {
			OR = {
				ITA = { has_war_with = ENG }
				date > 1940.6.1	
			}
			is_ai = no
		}

		bypass = {
		}
		prerequisite = { focus = POR_revan1 }
		icon = GFX_focus_ger_assassinate_mussolini
		x = 2	
		y = 1

		relative_position_id = POR_revan1
		cost = 5
		completion_reward = { 	
			add_political_power = 75
			army_experience = 20
			air_experience = 20
			custom_effect_tooltip = POR_italy_tt
			ITA = {
			    add_offsite_building = { type = arms_factory level = 2 }
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 5000 producer = POR }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 500 producer = POR }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 500 producer = POR }
				add_equipment_to_stockpile = { type = radio_equipment amount = 350 producer = POR }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 350 producer = POR }
				add_equipment_to_stockpile = { type = light_tank_equipment_1940 amount = 250 producer = POR }
			}
		}
	}
	focus = {
		id = POR_revan2
		available = {
            date > 1941.1.1			
            is_ai = no			
		}

		bypass = {		
		}
		prerequisite = { focus = POR_revan1 }		
		icon = GFX_focus_eng_imperial_federation
		x = 0
		y = 1
		
		relative_position_id = POR_revan1

		cost = 5

		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = { 
			hidden_effect = {
				set_technology = { 
				    advanced_infantry_weapons = 1
				    light_tank_1942 = 1 
					medium_tank_1943 = 1
					heavy_tank_1943 = 1
					fighter_1942 = 1
					heavy_fighter_1942 = 1
					naval_bomber_1942 = 1
		            tactical_bomber_1943 = 1
					strategic_bomber_1943 = 1
	                CAS_1943 = 1
			    }
			}
		    swap_ideas = {
			  	remove_idea = POR_aid1
			   	add_idea = POR_aid2
		    }
			if = {
				limit = {
					has_idea = POR_eco2  
				}
			    swap_ideas = {
			    	remove_idea = POR_eco2
			    	add_idea = POR_eco3
			    }
			}
		}
	}
	focus = {
		id = POR_russ

		select_effect = {
		}

		available = {
			OR = {
				SOV = { has_war_with = GER }
				date > 1941.9.1	
			}
			is_ai = no
		}

		bypass = {
		}
		prerequisite = { focus = POR_revan2 }
		icon = GFX_SOV_stalin_constitution
		x = -2	
		y = 1

		relative_position_id = POR_revan2
		cost = 5
		completion_reward = { 	
			add_political_power = 75
			army_experience = 20
			air_experience = 20
			custom_effect_tooltip = POR_germ_tt
			SOV = {
			    add_offsite_building = { type = arms_factory level = 2 }
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 5000 producer = POR }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 500 producer = POR }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 500 producer = POR }
				add_equipment_to_stockpile = { type = radio_equipment amount = 350 producer = POR }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 350 producer = POR }
				add_equipment_to_stockpile = { type = fighter_equipment_1942 amount = 100 producer = POR }
				add_equipment_to_stockpile = { type = tac_bomber_equipment_1941 amount = 100 producer = POR }
			}
		}
	}
	focus = {
		id = POR_usa

		select_effect = {
		}

		available = {
			date > 1941.1.1
			is_ai = no
		}

		bypass = {
		}
		prerequisite = { focus = POR_revan2 }
		icon = GFX_USA_federal_housing_act
		x = 0
		y = 1

		relative_position_id = POR_revan2
		cost = 5
		completion_reward = { 	
			add_political_power = 150
			army_experience = 20
			air_experience = 20
			USA = {
			    add_offsite_building = { type = arms_factory level = 3 }
			}
			PHI = {
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2500 producer = POR }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 250 producer = POR }
				add_equipment_to_stockpile = { type = radio_equipment amount = 175 producer = POR }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 175 producer = POR }
			    add_equipment_to_stockpile = { type = light_tank_equipment_1936 amount = 250 producer = POR }
			}
		}
	}
	focus = {
		id = POR_germ

		select_effect = {
		}

		available = {
			OR = {
				GER = { has_war_with = SOV }
				date > 1941.9.1	
			}
			is_ai = no
		}

		bypass = {
		}
		prerequisite = { focus = POR_revan2 }
		icon = GFX_GER_total_war
		x = 2	
		y = 1

		relative_position_id = POR_revan2
		cost = 5
		completion_reward = { 	
			add_political_power = 75
			army_experience = 20
			air_experience = 20
			custom_effect_tooltip = POR_germ_tt
			GER = {
			    add_offsite_building = { type = arms_factory level = 2 }
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 5000 producer = POR }
				add_equipment_to_stockpile = { type = support_equipment_1 amount = 500 producer = POR }
				add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 500 producer = POR }
				add_equipment_to_stockpile = { type = radio_equipment amount = 350 producer = POR }
				add_equipment_to_stockpile = { type = horse_equipment_0 amount = 350 producer = POR }
				add_equipment_to_stockpile = { type = fighter_equipment_1942 amount = 100 producer = POR }
				add_equipment_to_stockpile = { type = tac_bomber_equipment_1941 amount = 100 producer = POR }
			}
		}
	}
}