SAF_a_king_for_our_people = {

	SAF_the_king = {

		icon = eng_abdication_crisis
		
		available = {
			tag = SAF
			custom_trigger_tooltip = {
			    NOT = { has_completed_focus = SAF_hofmeyrs_reforms }
				ENG = { has_completed_focus = ENG_force_abdication } 
				tooltip = SAF_a_king_for_our_people_trigger_tt					
			}	
		}
				
		modifier = {
		}
		
		cost = 25
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			NOT = { has_idea = SAF_king_edward }
		}
		
		complete_effect = {
			add_ideas = SAF_king_edward
		}		
	}	
}	

SAFR_purchase_planes = {

	SAF_purchase_planes_lotta = {

		icon = generic_air
		
		available = {
			tag = SAF
			num_of_civilian_factories > 5
			AND = {
				SAF = { has_tech = eng_fighter_1936 }	
				SAF = { has_tech = eng_CAS_1937 }
				SAF = { has_tech = eng_naval_bomber_1936 }
			}
		}
				
		modifier = {
			civilian_factory_use = 6
		}
		
		cost = 10
		fire_only_once = yes
		days_remove = 60
		ai_will_do = {
			factor = 1
		}				
		
		visible = {
			OR = {
				NOT = { has_country_flag = SAF_purchase_planes_lotta_dec } 
				NOT = { has_country_flag = SAF_purchase_planes_few_dec }
				NOT = { has_country_flag = SAF_purchase_planes_some_dec }
			}	
		}
		
		complete_effect = {
			set_country_flag = SAF_purchase_planes_lotta_dec
		}
		
		remove_effect = {
			add_equipment_to_stockpile = {
				type = fighter_equipment_1936
				amount = 300
				producer = SAF
			}
			add_equipment_to_stockpile = {
				type = CAS_equipment_1937
				amount = 150
				producer = SAF
			}
			add_equipment_to_stockpile = {
				type = nav_bomber_equipment_1936
				amount = 150
				producer = SAF
			}
		}		
	}
	
	SAF_purchase_planes_some = {

		icon = generic_air
		
		available = {
			tag = SAF
			num_of_civilian_factories > 2	
			AND = {
				SAF = { has_tech = eng_fighter_1936 }	
				SAF = { has_tech = eng_CAS_1937 }
				SAF = { has_tech = eng_naval_bomber_1936 }
			}
		}
				
		modifier = {
			civilian_factory_use = 4
		}
		
		cost = 10
		fire_only_once = yes
		days_remove = 60
		ai_will_do = {
			factor = 1
		}				
		
		visible = {
			NOT = { has_country_flag = SAF_purchase_planes_some_dec }
			NOT = { has_country_flag = SAF_purchase_planes_few_dec }
			NOT = { has_country_flag = SAF_purchase_planes_lotta_dec }
		}
		
		complete_effect = {
			set_country_flag = SAF_purchase_planes_some_dec
		}
		
		remove_effect = {
			add_equipment_to_stockpile = {
				type = fighter_equipment_1936
				amount = 200
				producer = SAF
			}
			add_equipment_to_stockpile = {
				type = CAS_equipment_1937
				amount = 100
				producer = SAF
			}
			add_equipment_to_stockpile = {
				type = nav_bomber_equipment_1936
				amount = 100
				producer = SAF
			}
		}		
	}
	
	SAF_purchase_planes_few = {

		icon = generic_air
		
		available = {
			tag = SAF
			num_of_civilian_factories > 1
			AND = {
				SAF = { has_tech = eng_fighter_1936 }	
				SAF = { has_tech = eng_CAS_1937 }
				SAF = { has_tech = eng_naval_bomber_1936 }
			}	
		}
				
		modifier = {
			civilian_factory_use = 2
		}
		
		cost = 10
		days_remove = 60
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}				
		
		visible = {
			NOT = { has_country_flag = SAF_purchase_planes_few_dec }
			NOT = { has_country_flag = SAF_purchase_planes_lotta_dec }
			NOT = { has_country_flag = SAF_purchase_planes_some_dec }
		}
		
		complete_effect = {
			set_country_flag = SAF_purchase_planes_few_dec
		}
		
		remove_effect = {
			add_equipment_to_stockpile = {
				type = fighter_equipment_1936
				amount = 100
				producer = SAF
			}
			add_equipment_to_stockpile = {
				type = CAS_equipment_1937
				amount = 50
				producer = SAF
			}
			add_equipment_to_stockpile = {
				type = nav_bomber_equipment_1936
				amount = 50
				producer = SAF
			}
		}		
	}
	
	SAF_purchase_planes_tacs = {

		icon = generic_air
		
		available = {
			tag = SAF
			num_of_civilian_factories > 1
			SAF = { has_tech = eng_tactical_bomber_1936 }
		}
				
		modifier = {
			civilian_factory_use = 2
		}
		
		cost = 10
		fire_only_once = yes
		days_remove = 60
		ai_will_do = {
			factor = 1
		}				
		
		visible = {
			NOT = { has_country_flag = SAF_purchase_planes_tacs_dec }
		}
		
		complete_effect = {
			set_country_flag = SAF_purchase_planes_tacs_dec
		}
		
		remove_effect = {
			add_equipment_to_stockpile = {
				type = tac_bomber_equipment_1936
				amount = 100
				producer = SAF
			}
		}		
	}
}	

SAFR_africa_mandate = {
	
	SAF_mil_fac_swa = {

		icon = ger_military_buildup
		
		highlight_states = {
			state = 541
		}
		
		available = {
			tag = SAF
			has_completed_focus = SAF_police_windhoek
			num_of_civilian_factories_available_for_projects > 5
			owns_state = 541
			controls_state = 541
		}
				
		modifier = {
			civilian_factory_use = 6
		}
		
		cost = 25
		fire_only_once = yes
		days_remove = 60
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			541 = {
				NOT = {
					has_state_flag = swa_mil_factory
				}
			}
			owns_state = 541
			controls_state = 541
		}
		
		remove_effect = {
			541 = { set_state_flag = swa_mil_factory } 
			541 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}		
	}
	
	SAF_develop_swa = {

		icon = generic_construction
		
		highlight_states = {
			state = 541
		}
		
		available = {
			tag = SAF
			has_completed_focus = SAF_police_windhoek
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 541
			controls_state = 541
		}
				
		modifier = {
			civilian_factory_use = 3
		}
		
		cost = 60
		fire_only_once = yes
		days_remove = 80
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			541 = {
				NOT = {
					has_state_flag = swa_develop
				}
			}
			NOT = { is_in_faction_with = GER }
			owns_state = 541
			controls_state = 541
		}
		
		remove_effect = {
			541 = { set_state_flag = swa_develop } 
			541 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}		
	}
	
	SAF_develop_bechuanaland = {

		icon = generic_construction
		
		highlight_states = {
			state = 542
		}
		
		available = {
			tag = SAF
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 542
			controls_state = 542
		}
				
		modifier = {
			civilian_factory_use = 3
		}
		
		cost = 60
		fire_only_once = yes
		days_remove = 80
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			542 = {
				NOT = {
					has_state_flag = develop_bechuanaland
				}
			}
			NOT = { is_in_faction_with = GER }
			owns_state = 542
			controls_state = 542
		}
		
		remove_effect = {
			542 = { set_state_flag = develop_bechuanaland } 
			542 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}		
	}
	
	SAF_fully_integrate_bechuanaland = {

		icon = generic_form_nation
		
		highlight_states = {
			state = 542
		}
		
		available = {
			tag = SAF
			owns_state = 542
			controls_state = 542
		}
				
		modifier = {
			political_power_cost = 0.25
		}
		
		cost = 100
		fire_only_once = yes
		days_remove = 100
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			542 = {
				NOT = {
					has_state_flag = integrate_bechuanaland_dec
				}
			}
			owns_state = 542
			controls_state = 542
		}
		
		remove_effect = {
			542 = { set_state_flag = integrate_bechuanaland_dec } 
			add_state_core = 542
		}		
	}
	
	SAF_develop_rhodesia = {

		icon = generic_construction
		
		highlight_states = {
			state = 545
		}
		
		available = {
			tag = SAF
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 545
			controls_state = 545
		}
				
		modifier = {
			civilian_factory_use = 3
		}
		
		cost = 60
		fire_only_once = yes
		days_remove = 80
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			545 = {
				NOT = {
					has_state_flag = develop_rhodesia
				}
			}
			NOT = { is_in_faction_with = GER }
			owns_state = 545
			controls_state = 545
		}
		
		remove_effect = {
			545 = { set_state_flag = develop_rhodesia } 
			545 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}		
	}
	
	SAF_fully_integrate_rhodesia = { 

		icon = generic_form_nation
		
		highlight_states = {
			state = 545
		}
		
		available = {
			tag = SAF
			owns_state = 545
			controls_state = 545
		}
				
		modifier = {
			political_power_cost = 0.25
		}
		
		cost = 100
		fire_only_once = yes
		days_remove = 100
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			545 = {
				NOT = {
					has_state_flag = integrate_rhodesia_dec
				}
			}
			owns_state = 545
			controls_state = 545
		}
		
		remove_effect = {
			545 = { set_state_flag = integrate_rhodesia_dec } 
			add_state_core = 545
		}		
	}
	
	SAF_develop_zambia = {

		icon = generic_construction
		
		highlight_states = {
			state = 771
		}
		
		available = {
			tag = SAF
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 771
			controls_state = 771
		}
				
		modifier = {
			civilian_factory_use = 3
		}
		
		cost = 60
		fire_only_once = yes
		days_remove = 80
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			771 = {
				NOT = {
					has_state_flag = develop_zambia
				}
			}
			NOT = { is_in_faction_with = GER }
			owns_state = 771
			controls_state = 771
		}
		
		remove_effect = {
			771 = { set_state_flag = develop_zambia } 
			771 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}		
	}
	
	SAF_develop_malawi = {

		icon = generic_construction
		
		highlight_states = {
			state = 770
		}
		
		available = {
			tag = SAF
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 770
			controls_state = 770
		}
				
		modifier = {
			civilian_factory_use = 3
		}
		
		cost = 60
		fire_only_once = yes
		days_remove = 80
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			770 = {
				NOT = {
					has_state_flag = develop_malawi
				}
			}
			NOT = { is_in_faction_with = GER }
			owns_state = 770
			controls_state = 770
		}
		
		remove_effect = {
			770 = { set_state_flag = develop_malawi } 
			770 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}		
	}
	
	SAF_develop_tanganyika = {

		icon = generic_construction
		
		highlight_states = {
			state = 546
		}
		
		available = {
			tag = SAF
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 546
			controls_state = 546
		}
				
		modifier = {
			civilian_factory_use = 3
		}
		
		cost = 60
		fire_only_once = yes
		days_remove = 80
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			546 = {
				NOT = {
					has_state_flag = develop_tanganyika
				}
			}
			NOT = { is_in_faction_with = GER }
			owns_state = 546
			controls_state = 546
		}
		
		remove_effect = {
			546 = { set_state_flag = develop_tanganyika } 
			546 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}		
	}
	
	SAF_develop_kenya = {

		icon = generic_construction
		
		highlight_states = {
			state = 547
		}
		
		available = {
			tag = SAF
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 547
			controls_state = 547
		}
				
		modifier = {
			civilian_factory_use = 3
		}
		
		cost = 60
		fire_only_once = yes
		days_remove = 80
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			547 = {
				NOT = {
					has_state_flag = develop_kenya
				}
			}
			NOT = { is_in_faction_with = GER }
			owns_state = 547
			controls_state = 547
		}
		
		remove_effect = {
			547 = { set_state_flag = develop_kenya } 
			547 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}		
	}
	
	SAF_develop_uganda = {

		icon = generic_construction
		
		highlight_states = {
			state = 548
		}
		
		available = {
			tag = SAF
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 548
			controls_state = 548
		}
				
		modifier = {
			civilian_factory_use = 3
		}
		
		cost = 60
		fire_only_once = yes
		days_remove = 80
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			548 = {
				NOT = {
					has_state_flag = develop_uganda
				}
			}
			NOT = { is_in_faction_with = GER }
			owns_state = 548
			controls_state = 548
		}
		
		remove_effect = {
			548 = { set_state_flag = develop_uganda } 
			548 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}		
	}
	
	SAF_develop_madagascar = {

		icon = generic_construction
		
		highlight_states = {
			state = 543
		}
		
		available = {
			tag = SAF
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 543
			controls_state = 543
		}
				
		modifier = {
			civilian_factory_use = 3
		}
		
		cost = 60
		fire_only_once = yes
		days_remove = 80
		ai_will_do = {
			factor = 1
		}
		
		visible = {
			543 = {
				NOT = {
					has_state_flag = develop_madagascar
				}
			}
			owns_state = 543
			controls_state = 543
		}
		
		remove_effect = {
			543 = { set_state_flag = develop_madagascar } 
			543 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}		
	}
}

SAFR_building_surface_fleet = {

	SAF_expand_shipbuilding = {

		icon = generic_construction
		
		available = {
			tag = SAF
			num_of_civilian_factories > 10
			num_of_naval_factories > 3
		}
				
		modifier = {
			civilian_factory_use = 7
		}
		
		cost = 100
		days_remove = 120
		
		ai_will_do = {
			factor = 1
		}
		
		complete_effect = {
            
        }
		
		visible = {
			NOT = {
				has_country_flag = SAFR_expand_shipbuilding_dec
			}
		}
		
		remove_effect = {
			681 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}	
			719 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			set_country_flag = SAFR_expand_shipbuilding_dec
		}		
	}
	
	SAF_procure_us_shipbuilding_expertise = {

		icon = hol_attract_foreign_investors
		
		available = {
			tag = SAF
		}
				
		modifier = {
			
		}
		
		cost = 100
		
		ai_will_do = {
			factor = 1
		}
		
		complete_effect = {
            USA = { add_offsite_building = { type = industrial_complex level = 1 }}
			custom_effect_tooltip = available_designer
			custom_effect_tooltip = procure_expertise_tt
			show_ideas_tooltip = electric_boat_company_sa
			show_ideas_tooltip = newport_news_shipbuilding_sa
			set_country_flag = SAFR_procure_us_shipbuilding_expertise_dec
        }
		
		visible = {
			NOT = {
				has_country_flag = SAFR_procure_us_shipbuilding_expertise_dec
				has_country_flag = SAFR_procure_uk_shipbuilding_expertise_dec
			}
		}
		
		remove_effect = {
			
		}		
	}
	
	SAF_procure_uk_shipbuilding_expertise = {

		icon = hol_attract_foreign_investors
		
		available = {
			tag = SAF
		}
				
		modifier = {
			
		}
		
		cost = 100
		
		ai_will_do = {
			factor = 1
		}
		
		complete_effect = {
            ENG = { add_offsite_building = { type = industrial_complex level = 1 }}
			custom_effect_tooltip = available_designer
			custom_effect_tooltip = procure_expertise_tt
			show_ideas_tooltip = cammell_laird_sa
			show_ideas_tooltip = john_brown_company_sa
			set_country_flag = SAFR_procure_uk_shipbuilding_expertise_dec
        }
		
		visible = {
			NOT = {
				has_country_flag = SAFR_procure_us_shipbuilding_expertise_dec
				has_country_flag = SAFR_procure_uk_shipbuilding_expertise_dec
			}
		}
		
		remove_effect = {
			
		}		
	}
	
	SAF_study_us_ship_designs = {

		icon = generic_naval
		
		available = {
			tag = SAF
			has_decision = SAF_procure_us_shipbuilding_expertise
		}
				
		modifier = {
			
		}
		
		cost = 80
		
		ai_will_do = {
			factor = 1
		}
		
		complete_effect = {
			custom_effect_tooltip = procure_expertise_tt
			add_tech_bonus = {
				name = SAF_study_us_ship_designs
				bonus = 1.0
				uses = 2
				category = cv_tech
			}
			add_tech_bonus = {
				name = SAF_study_us_ship_designs
				bonus = 1.0
				uses = 2
				category = cl_tech
			}
			set_country_flag = SAFR_study_us_ship_designs_dec
        }
		
		visible = {
			NOT = {
				has_country_flag = SAFR_study_us_ship_designs_dec
				has_country_flag = SAFR_procure_uk_shipbuilding_expertise_dec
			}
		}
		
		remove_effect = {
			
		}		
	}
	
	SAF_study_uk_ship_designs = {

		icon = generic_naval
		
		available = {
			tag = SAF
			has_decision = SAF_procure_uk_shipbuilding_expertise
		}
				
		modifier = {
			
		}
		
		cost = 80
		
		ai_will_do = {
			factor = 1
		}
		
		complete_effect = {
			custom_effect_tooltip = procure_expertise_tt
			add_tech_bonus = {
				name = SAF_study_uk_ship_designs
				bonus = 1.0
				uses = 1
				category = cv_tech
			}
			add_tech_bonus = {
				name = SAF_study_uk_ship_designs
				bonus = 1.0
				uses = 1
				category = bb_tech
			}
			add_tech_bonus = {
				name = SAF_study_uk_ship_designs
				bonus = 1.0
				uses = 1
				category = cl_tech
			}
			add_tech_bonus = {
				name = SAF_study_uk_ship_designs
				bonus = 1.0
				uses = 1
				category = dd_tech
			}
			set_country_flag = SAFR_study_uk_ship_designs_dec
        }
		
		visible = {
			NOT = {				
				has_country_flag = SAFR_study_uk_ship_designs_dec
				has_country_flag = SAFR_procure_us_shipbuilding_expertise_dec
			}
		}
		
		remove_effect = {
			
		}		
	}
}	